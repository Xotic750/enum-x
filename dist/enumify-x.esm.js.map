{"version":3,"sources":["../src/enumify-x.js"],"names":[],"mappings":"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","file":"enumify-x.esm.js","sourcesContent":["import isArrayLike from 'is-array-like-x';\nimport isObjectLike from 'is-object-like-x';\nimport isSafeInteger from 'is-safe-integer-x';\nimport isVarName from 'is-var-name';\nimport isSymbol from 'is-symbol';\nimport {SetConstructor, MapConstructor} from 'collections-x';\nimport objectKeys from 'object-keys-x';\nimport defineProperties from 'object-define-properties-x';\nimport defineProperty from 'object-define-property-x';\nimport objectCreate from 'object-create-x';\nimport arrayForEach from 'array-for-each-x';\nimport toStr from 'to-string-x';\nimport {stringify} from 'json3';\n\nconst {push, join, shift} = [];\nconst nativeFreeze = {}.constructor.freeze;\nconst hasFreeze = typeof nativeFreeze === 'function';\nconst objectFreeze = function freeze(value) {\n  return hasFreeze ? nativeFreeze(value) : value;\n};\n\nconst reserved = new SetConstructor(['forEach', 'name', 'toJSON', 'toString', 'value', 'valueOf']);\n\n/**\n * An enumeration is a set of symbolic names (members) bound to unique, constant\n * values. Within an enumeration, the members can be compared by identity, and\n * the enumeration itself can be iterated over.\n * Influenced by Python's Enum implementation.\n *\n * Create an enum name/value. Not usually called directly.\n *\n * @see @link https://docs.python.org/3/library/enum.html\n * @param {string} name - The name of the enum.\n * @param {*} value - The value of the enum.\n * @returns {object} The enum.\n */\nexport default function Enum(name, value) {\n  if (arguments.length > 0) {\n    const strName = isSymbol(name) === false && toStr(name);\n\n    if (reserved.has(strName)) {\n      throw new SyntaxError(`Name is reserved: ${strName}`);\n    }\n\n    defineProperties(this, {\n      name: {\n        enumerable: true,\n        value: strName,\n      },\n      value: {\n        enumerable: true,\n        value,\n      },\n    });\n\n    objectFreeze(this);\n  }\n}\n\ndefineProperties(Enum.prototype, {\n  toJSON: {\n    value: function toJSON() {\n      return {\n        name: this.name,\n        value: this.value,\n      };\n    },\n  },\n  toString: {\n    value: function toString() {\n      return `${this.constructor.name}.${this.name}`;\n    },\n  },\n});\n\nconst generateNextValue = function generateNextValue() {\n  let count = 0;\n\n  return {\n    next(name, value) {\n      if (isSafeInteger(value)) {\n        count = value;\n      }\n\n      const result = count;\n\n      count += 1;\n\n      return result;\n    },\n  };\n};\n\nconst initialise = function initialise(CstmCtr, properties, opts) {\n  const keys = new SetConstructor();\n  const dNames = new MapConstructor();\n  const dValues = new MapConstructor();\n  let isClone;\n  let items;\n\n  if (isArrayLike(properties)) {\n    items = properties;\n  } else if (typeof properties === 'function' && properties.prototype instanceof Enum) {\n    isClone = true;\n    items = properties.toJSON();\n  } else {\n    throw new Error('bad args');\n  }\n\n  const iter = typeof opts.auto === 'function' ? opts.auto() : generateNextValue();\n  let next;\n\n  const itemsIteratee = function itemsIteratee(item) {\n    let ident;\n\n    if (isClone || isObjectLike(item)) {\n      next = iter.next(item.name, item.value);\n      ident = new CstmCtr(item.name, item.value);\n    } else {\n      next = iter.next(item);\n      ident = new CstmCtr(item, next);\n    }\n\n    const {name} = ident;\n\n    if (dNames.has(name)) {\n      throw new TypeError(`Attempted to reuse name: ${name}`);\n    }\n\n    dNames.set(name, ident);\n    const {value} = ident;\n\n    if (dValues.has(value)) {\n      const oName = dValues.get(value);\n\n      if (opts.unique) {\n        const here = `${name} -> ${oName}`;\n\n        throw new TypeError(`Duplicate value (${value}) found: ${here}`);\n      }\n\n      ident = dNames.get(oName);\n    } else {\n      dValues.set(value, name);\n      keys.add(name);\n    }\n\n    defineProperty(CstmCtr, name, {\n      enumerable: true,\n      value: ident,\n    });\n  };\n\n  arrayForEach(items, itemsIteratee);\n\n  return {\n    keys,\n    names: dNames,\n    values: dValues,\n  };\n};\n\nconst calcString = function calcString(ctrName, names) {\n  const strArr = [];\n  names.forEach((enumMember) => {\n    push.call(strArr, stringify(enumMember.name));\n  });\n\n  return `${ctrName} { ${join.call(strArr, ', ')} }`;\n};\n\ndefineProperties(Enum, {\n  /**\n   * Creates an enumeration collection. Primary method.\n   *\n   * @param {string} typeName - The name of the enum collection.\n   * @param {Array} properties - Initialiser array.\n   * @param {object} options - Options to determine behaviour.\n   * @returns {Function} The enumeration collection.\n   */\n  create: {\n    value: function create(typeName, properties, options) {\n      const ctrName = isSymbol(typeName) === false && toStr(typeName);\n\n      if (ctrName === 'undefined' || isVarName(ctrName) === false) {\n        throw new Error(`Invalid enum name: ${ctrName}`);\n      }\n\n      const opts = isObjectLike(options) ? options : {};\n      let CstmCtr;\n      let data;\n\n      // noinspection JSUnusedLocalSymbols\n      const construct = function construct(context, args) {\n        const argsArr = [...args];\n\n        if (data) {\n          if (isObjectLike(context) && context instanceof CstmCtr) {\n            throw new SyntaxError('Enum classes can’t be instantiated');\n          }\n\n          return data.names.get(data.values.get(shift.call(argsArr)));\n        }\n\n        Enum.apply(context, argsArr);\n\n        return context;\n      };\n\n      /* eslint-disable-next-line no-new-func */\n      CstmCtr = Function('construct', `return function ${ctrName}(value){return construct(this,arguments)}`)(construct);\n\n      let asString;\n      defineProperties(CstmCtr, {\n        forEach: {\n          value: function forEach(callback, thisArg) {\n            data.keys.forEach((key) => {\n              callback.call(thisArg, data.names.get(key));\n            });\n          },\n        },\n\n        toJSON: {\n          value: function toJSON() {\n            const value = [];\n            data.names.forEach((enumMember) => {\n              push.call(value, enumMember.toJSON());\n            });\n\n            return value;\n          },\n        },\n\n        toString: {\n          value: function toString() {\n            if (typeof asString === 'undefined') {\n              asString = calcString(ctrName, data.names);\n            }\n\n            return asString;\n          },\n        },\n      });\n\n      /* eslint-disable-next-line compat/compat */\n      if (typeof Symbol === 'function' && isSymbol(Symbol(''))) {\n        /* eslint-disable-next-line compat/compat */\n        defineProperty(CstmCtr, Symbol.iterator, {\n          value: function iterator() {\n            /* eslint-disable-next-line compat/compat */\n            const iter = data.keys[Symbol.iterator]();\n            const $next = function next() {\n              const nxt = iter.next();\n\n              return nxt.done\n                ? nxt\n                : {\n                    done: false,\n                    value: data.names.get(nxt.value),\n                  };\n            };\n\n            return {\n              next: $next,\n            };\n          },\n        });\n      }\n\n      CstmCtr.prototype = objectCreate(Enum.prototype);\n      defineProperties(CstmCtr.prototype, {\n        constructor: {value: CstmCtr},\n        name: {value: ctrName},\n      });\n\n      if (isObjectLike(opts.classMethods)) {\n        arrayForEach(objectKeys(opts.classMethods), (key) => {\n          if (reserved.has(key)) {\n            throw new SyntaxError(`Name is reserved: ${key}`);\n          }\n\n          const method = opts.classMethods[key];\n\n          if (typeof method === 'function') {\n            defineProperty(CstmCtr, key, {value: method});\n            reserved.add(key);\n          }\n        });\n      }\n\n      if (isObjectLike(opts.instanceMethods)) {\n        arrayForEach(objectKeys(opts.instanceMethods), (key) => {\n          if (reserved.has(key)) {\n            throw new SyntaxError(`Name is reserved: ${key}`);\n          }\n\n          const method = opts.instanceMethods[key];\n\n          if (typeof method === 'function') {\n            defineProperty(CstmCtr.prototype, key, {value: method});\n            reserved.add(key);\n          }\n        });\n      }\n\n      data = initialise(CstmCtr, properties, opts);\n\n      return objectFreeze(CstmCtr);\n    },\n  },\n});\n"]}